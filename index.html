<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Standard Static 2dii Plots • r2dii.plot.static</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Create Standard Static 2dii Plots">
<meta property="og:description" content="Allows the user to create standardized 2dii graphs, like
    trajectory charts or technology mix charts, and outputs them as
    ggplot objects. It also contains data processing functions that
    prepare the standard PACTA data to be an input for the plotting
    functions.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">r2dii.plot.static</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MonikaFu">
    <span class="fas fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/2DegreesInvesting/r2dii.plot.static">
    <span class="fas fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://2degreesinvesting.github.io/r2dii/index.html">r2dii</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="r2diiplotstatic-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#r2diiplotstatic-" class="anchor"></a>r2dii.plot.static <a href="https://github.com/2DegreesInvesting/r2dii.plot.static"><img src="https://imgur.com/A5ASZPE.png" align="right" height="43"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of r2dii.plot.static is to provide users with plotting and data processing functions that will allow the users to create standard 2DII plots using <code>PACTA_analysis</code> or banks’ output data as input. The plots are in the form of ggplot objects.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version of r2dii.plot.static from <a href="https://github.com/2DegreesInvesting/r2dii.plot.static">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"2DegreesInvesting/r2dii.plot.static"</span><span class="op">)</span></code></pre></div>
<p><a href="https://gist.github.com/maurolepore/a0187be9d40aee95a43f20a85f4caed6#installation">How to minimize installation errors?</a></p>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/2DegreesInvesting/r2dii.plot.static">r2dii.plot.static</a></span><span class="op">)</span></code></pre></div>
<ul>
<li>
<code><a href="reference/get_example_data.html">get_example_data()</a></code> imports example data set for plotting.</li>
<li>
<code><a href="reference/process_input_data.html">process_input_data()</a></code> performs the initial processing on raw input data in banks’ format.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_example_data.html">get_example_data</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">example_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/process_input_data.html">process_input_data</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span></code></pre></div>
<ul>
<li>
<code><a href="reference/plot_trajectory.html">plot_trajectory()</a></code> create a trajectory alignment chart in a ggplot object.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_trajectory</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_for_trajectory_chart.html">prepare_for_trajectory_chart</a></span><span class="op">(</span>
  <span class="va">example_data</span>, 
  sector_filter <span class="op">=</span> <span class="st">"power"</span>, 
  technology_filter <span class="op">=</span> <span class="st">"oilcap"</span>,
  region_filter <span class="op">=</span> <span class="st">"global"</span>, 
  scenario_source_filter <span class="op">=</span> <span class="st">"demo_2020"</span>,
  value_name <span class="op">=</span> <span class="st">"production"</span>, 
  end_year_filter <span class="op">=</span> <span class="fl">2025</span>,
  normalize_to_start_year <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>

<span class="va">scenario_specs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sds"</span>, <span class="st">"sps"</span>, <span class="st">"cps"</span>, <span class="st">"worse"</span><span class="op">)</span>,
  color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#9CAB7C"</span>, <span class="st">"#FFFFCC"</span>, <span class="st">"#FDE291"</span>, <span class="st">"#E07B73"</span><span class="op">)</span>,
  label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"SDS"</span>, <span class="st">"STEPS"</span>, <span class="st">"CPS"</span>, <span class="st">"worse"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">main_line_metric</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"projected"</span>, label <span class="op">=</span> <span class="st">"Portfolio"</span><span class="op">)</span>
<span class="va">additional_line_metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  metric <span class="op">=</span> <span class="st">"corporate_economy"</span>,
  label <span class="op">=</span> <span class="st">"Corporate Economy"</span>
<span class="op">)</span>

<span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/plot_trajectory.html">plot_trajectory</a></span><span class="op">(</span><span class="va">data_trajectory</span>,
  plot_title <span class="op">=</span> <span class="st">"Production trajectory of Oil Capacity technology \n in the Power sector"</span>,
  x_title <span class="op">=</span> <span class="st">"Year"</span>, y_title <span class="op">=</span> <span class="st">"Production rate (normalized to 2020)"</span>,
  annotate_data <span class="op">=</span> <span class="cn">FALSE</span>,
  scenario_specs_good_to_bad <span class="op">=</span> <span class="va">scenario_specs</span>,
  <span class="va">main_line_metric</span>, <span class="va">additional_line_metrics</span>
<span class="op">)</span>

<span class="va">plot</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%" style="display: block; margin: auto auto auto 0;"></p>
<ul>
<li>
<code><a href="reference/prepare_for_techmix_chart.html">prepare_for_techmix_chart()</a></code> prepares pre-processed data for plotting a tech-mix chart.</li>
<li>
<code><a href="reference/get_r2dii_technology_colours.html">get_r2dii_technology_colours()</a></code> get the predefined technology colors for a sector.</li>
<li>
<code><a href="reference/plot_techmix.html">plot_techmix()</a></code> create a techmix chart in a ggplot object.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_techmix_power</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_for_techmix_chart.html">prepare_for_techmix_chart</a></span><span class="op">(</span><span class="va">example_data</span>,
  sector_filter <span class="op">=</span> <span class="st">"power"</span>,
  years_filter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2020</span>, <span class="fl">2025</span><span class="op">)</span>, region_filter <span class="op">=</span> <span class="st">"global"</span>,
  scenario_source_filter <span class="op">=</span> <span class="st">"demo_2020"</span>,
  scenario_filter <span class="op">=</span> <span class="st">"sds"</span>, value_name <span class="op">=</span> <span class="st">"technology_share"</span>
<span class="op">)</span>

<span class="va">tech_colors_power</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_r2dii_technology_colours.html">get_r2dii_technology_colours</a></span><span class="op">(</span><span class="st">"power"</span><span class="op">)</span>
<span class="va">bars_labels_specs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  <span class="st">"metric_type"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="st">"portfolio_2020"</span>, <span class="st">"benchmark_2020"</span>, <span class="st">"portfolio_2025"</span>,
    <span class="st">"benchmark_2025"</span>, <span class="st">"scenario_2025"</span>
  <span class="op">)</span>,
  <span class="st">"label"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="st">"Portfolio 2020"</span>, <span class="st">"Benchmark 2020"</span>, <span class="st">"Portfolio 2025"</span>,
    <span class="st">"Benchmark 2025"</span>, <span class="st">"Target SDS 2025"</span>
  <span class="op">)</span>
<span class="op">)</span>

<span class="va">plot_techmix_power</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/plot_techmix.html">plot_techmix</a></span><span class="op">(</span><span class="va">data_techmix_power</span>,
  plot_title <span class="op">=</span> <span class="st">"Technology mix for the Power sector"</span>,
  show_legend <span class="op">=</span> <span class="cn">TRUE</span>,
  <span class="va">tech_colors_power</span>,
  <span class="va">bars_labels_specs</span>
<span class="op">)</span>
<span class="va">plot_techmix_power</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="100%" style="display: block; margin: auto auto auto 0;"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">power_colors_custom</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  <span class="st">"technology"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"coalcap"</span>, <span class="st">"oilcap"</span>, <span class="st">"gascap"</span>, <span class="st">"nuclearcap"</span>, <span class="st">"hydrocap"</span>, <span class="st">"renewablescap"</span><span class="op">)</span>,
  <span class="st">"label"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Coal Capacity"</span>, <span class="st">"Oil Capacity"</span>, <span class="st">"Gas Capacity"</span>, <span class="st">"Nuclear Capacity"</span>, <span class="st">"Hydro Capacity"</span>, <span class="st">"Renewables Capacity"</span><span class="op">)</span>,
  <span class="st">"colour"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"brown"</span>, <span class="st">"grey"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green4"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">plot_techmix_custom_col</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/plot_techmix.html">plot_techmix</a></span><span class="op">(</span><span class="va">data_techmix_power</span>, <span class="st">"Technology mix for the Power sector"</span>,
  show_legend <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">power_colors_custom</span>, <span class="va">bars_labels_specs</span>
<span class="op">)</span>
<span class="va">plot_techmix_custom_col</span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-2.png" width="100%" style="display: block; margin: auto auto auto 0;"></p>
</div>
<div id="metareport-code-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#metareport-code-examples" class="anchor"></a>Metareport code examples</h2>
<p>This is a basic example usage of <code><a href="reference/plot_metareport_security_types.html">plot_metareport_security_types()</a></code> given that you have the <code>total_portfolio.rda</code> data set from PACTA analysis results loaded in your environment:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>data_security_type &lt;-<span class="st"> </span><span class="kw">prepare_for_metareport_security_type_chart</span>(data_total_portfolio)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a>bars_labels_specs &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="st">"investor_name"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"pensionfund"</span>, <span class="st">"Meta Investor"</span>, <span class="st">"insurance"</span>, </span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="st">"bank"</span>, <span class="st">"assetmanager"</span>),</span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="st">"label"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"Pension Funds"</span>, <span class="st">"Meta Investor"</span>, <span class="st">"Insurance"</span>, </span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="st">"Banks"</span>, <span class="st">"Asset Managers"</span>)</span>
<span id="cb7-8"><a href="#cb7-8"></a>)</span>
<span id="cb7-9"><a href="#cb7-9"></a></span>
<span id="cb7-10"><a href="#cb7-10"></a>bars_asset_type_specs &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb7-11"><a href="#cb7-11"></a>  <span class="st">"asset_type"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"Equity"</span>, <span class="st">"Bonds"</span>, <span class="st">"Others"</span>),</span>
<span id="cb7-12"><a href="#cb7-12"></a>  <span class="st">"label"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"Equity"</span>, <span class="st">"Bonds"</span>, <span class="st">"Others"</span>),</span>
<span id="cb7-13"><a href="#cb7-13"></a>  <span class="st">"r2dii_colour_name"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"dark_blue"</span>, <span class="st">"moss_green"</span>, <span class="st">"grey"</span>)</span>
<span id="cb7-14"><a href="#cb7-14"></a>)</span>
<span id="cb7-15"><a href="#cb7-15"></a></span>
<span id="cb7-16"><a href="#cb7-16"></a>p &lt;-<span class="st"> </span><span class="kw">plot_metareport_security_types</span>(data_security_type, </span>
<span id="cb7-17"><a href="#cb7-17"></a>                                    bars_asset_type_specs, </span>
<span id="cb7-18"><a href="#cb7-18"></a>                                    bars_labels_specs)</span>
<span id="cb7-19"><a href="#cb7-19"></a>p</span></code></pre></div>
<p>This is a basic example usage of <code><a href="reference/plot_metareport_pacta_sectors.html">plot_metareport_pacta_sectors()</a></code> given that you have the <code>overview_portfolio.rda</code> data set from PACTA analysis results loaded in your environment:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>data_climate_relevant &lt;-<span class="st"> </span><span class="kw">prepare_for_pacta_sectors_chart</span>(data_overview)</span>
<span id="cb8-2"><a href="#cb8-2"></a></span>
<span id="cb8-3"><a href="#cb8-3"></a>bars_labels_climate_rel &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="st">"investor_name"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"pensionfund"</span>,<span class="st">"insurance"</span>, <span class="st">"bank"</span>, <span class="st">"assetmanager"</span>),</span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="st">"label"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"Pension Funds"</span>, <span class="st">"Insurance"</span>, <span class="st">"Banks"</span>, <span class="st">"Asset Managers"</span>)</span>
<span id="cb8-6"><a href="#cb8-6"></a>)</span>
<span id="cb8-7"><a href="#cb8-7"></a></span>
<span id="cb8-8"><a href="#cb8-8"></a>plot &lt;-<span class="st"> </span><span class="kw">plot_metareport_pacta_sectors</span>(<span class="dt">data =</span> data_climate_relevant, </span>
<span id="cb8-9"><a href="#cb8-9"></a>                                      <span class="dt">bars_labels_specs =</span> bars_labels_climate_rel,</span>
<span id="cb8-10"><a href="#cb8-10"></a>                                      <span class="dt">plot_title =</span> <span class="st">"Percentage of Asset type Portfolios invested in PACTA sectors"</span>)</span>
<span id="cb8-11"><a href="#cb8-11"></a>plot</span></code></pre></div>
<p>These are basic examples of using <code><a href="reference/plot_metareport_distribution.html">plot_metareport_distribution()</a></code> given that you have the <code>Equity_results_portfolio.rda</code> or <code>Bonds_results_portfolio.rda</code> data set from PACTA analysis results loaded in your environment:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>investor_labels &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="st">"investor_name"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"assetmanager"</span>,<span class="st">"bank"</span>,<span class="st">"insurance"</span>,<span class="st">"pensionfund"</span>),</span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="st">"label"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"Asset Managers"</span>,<span class="st">"Banks"</span>,<span class="st">"Insurance"</span>,<span class="st">"Pension funds"</span>)</span>
<span id="cb9-4"><a href="#cb9-4"></a>)</span>
<span id="cb9-5"><a href="#cb9-5"></a></span>
<span id="cb9-6"><a href="#cb9-6"></a>data_distr_br_port &lt;-<span class="st"> </span><span class="kw">prepare_for_metareport_distribution_chart</span>(data_equity,</span>
<span id="cb9-7"><a href="#cb9-7"></a>                                                      <span class="dt">sectors_filter =</span> <span class="st">"Power"</span>,</span>
<span id="cb9-8"><a href="#cb9-8"></a>                                                      <span class="dt">technologies_filter =</span> <span class="kw">c</span>(<span class="st">"CoalCap"</span>,<span class="st">"OilCap"</span>,<span class="st">"GasCap"</span>),</span>
<span id="cb9-9"><a href="#cb9-9"></a>                                                      <span class="dt">year_filter =</span> <span class="dv">2020</span>,</span>
<span id="cb9-10"><a href="#cb9-10"></a>                                                      <span class="dt">value_to_plot =</span> <span class="st">"plan_carsten"</span>)</span>
<span id="cb9-11"><a href="#cb9-11"></a></span>
<span id="cb9-12"><a href="#cb9-12"></a>p_br &lt;-<span class="st"> </span><span class="kw">plot_metareport_distribution</span>(data_distr_br_port, </span>
<span id="cb9-13"><a href="#cb9-13"></a>                                  <span class="dt">plot_title =</span> <span class="st">"Percentage of a portfolio invested in brown technologies in the Power sector - Listed Equity"</span>,</span>
<span id="cb9-14"><a href="#cb9-14"></a>                                  <span class="dt">x_title =</span> <span class="st">"Participants"</span>,</span>
<span id="cb9-15"><a href="#cb9-15"></a>                                  <span class="dt">y_title =</span> <span class="st">""</span>,</span>
<span id="cb9-16"><a href="#cb9-16"></a>                                  <span class="dt">investor_labels =</span> investor_labels)</span>
<span id="cb9-17"><a href="#cb9-17"></a>p_br</span>
<span id="cb9-18"><a href="#cb9-18"></a></span>
<span id="cb9-19"><a href="#cb9-19"></a>data_distr_gr_prod &lt;-<span class="st"> </span><span class="kw">prepare_for_metareport_distribution_chart</span>(data_equity,</span>
<span id="cb9-20"><a href="#cb9-20"></a>                                                      <span class="dt">sectors_filter =</span> <span class="st">"Power"</span>,</span>
<span id="cb9-21"><a href="#cb9-21"></a>                                                      <span class="dt">technologies_filter =</span> <span class="kw">c</span>(<span class="st">"RenewablesCap"</span>, <span class="st">"HydroCap"</span>),</span>
<span id="cb9-22"><a href="#cb9-22"></a>                                                      <span class="dt">year_filter =</span> <span class="dv">2020</span>,</span>
<span id="cb9-23"><a href="#cb9-23"></a>                                                      <span class="dt">value_to_plot =</span> <span class="st">"plan_tech_share"</span>)</span>
<span id="cb9-24"><a href="#cb9-24"></a></span>
<span id="cb9-25"><a href="#cb9-25"></a>p_gr &lt;-<span class="st"> </span><span class="kw">plot_metareport_distribution</span>(data_distr_gr_prod, </span>
<span id="cb9-26"><a href="#cb9-26"></a>                                  <span class="dt">plot_title =</span> <span class="st">"Percentage share of a low carbon power production - Listed Equity"</span>,</span>
<span id="cb9-27"><a href="#cb9-27"></a>                                  <span class="dt">x_title =</span> <span class="st">"Participants"</span>,</span>
<span id="cb9-28"><a href="#cb9-28"></a>                                  <span class="dt">y_title =</span> <span class="st">""</span>,</span>
<span id="cb9-29"><a href="#cb9-29"></a>                                  <span class="dt">investor_labels =</span> investor_labels)</span>
<span id="cb9-30"><a href="#cb9-30"></a>p_gr</span></code></pre></div>
<p>These are basic examples of using <code><a href="reference/plot_metareport_bubble.html">plot_metareport_bubble()</a></code> given that you have the <code>Equity_results_portfolio.rda</code> or <code>Bonds_results_portfolio.rda</code> data set from PACTA analysis results loaded in your environment:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>data_bubble &lt;-<span class="st"> </span><span class="kw">prepare_for_metareport_bubble_chart</span>(data_equity,</span>
<span id="cb10-2"><a href="#cb10-2"></a>                                                <span class="dt">asset_type =</span> <span class="st">"Equity"</span>,</span>
<span id="cb10-3"><a href="#cb10-3"></a>                                                <span class="dt">start_year =</span> <span class="dv">2020</span>,</span>
<span id="cb10-4"><a href="#cb10-4"></a>                                                <span class="dt">technologies_filter =</span> <span class="kw">c</span>(<span class="st">"RenewablesCap"</span>),</span>
<span id="cb10-5"><a href="#cb10-5"></a>                                                <span class="dt">scenario_filter =</span> <span class="st">"WEO2019_SDS"</span>,</span>
<span id="cb10-6"><a href="#cb10-6"></a>                                                <span class="dt">scenario_geography_filter =</span> <span class="st">"GlobalAggregate"</span>)</span>
<span id="cb10-7"><a href="#cb10-7"></a></span>
<span id="cb10-8"><a href="#cb10-8"></a>investor_labels &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb10-9"><a href="#cb10-9"></a>  <span class="st">"investor_name"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"assetmanager"</span>,<span class="st">"bank"</span>,<span class="st">"insurance"</span>,<span class="st">"pensionfund"</span>),</span>
<span id="cb10-10"><a href="#cb10-10"></a>  <span class="st">"label"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"Asset Managers"</span>,<span class="st">"Banks"</span>,<span class="st">"Insurance"</span>,<span class="st">"Pension funds"</span>)</span>
<span id="cb10-11"><a href="#cb10-11"></a>)</span>
<span id="cb10-12"><a href="#cb10-12"></a></span>
<span id="cb10-13"><a href="#cb10-13"></a>p &lt;-<span class="st"> </span><span class="kw">plot_metareport_bubble</span>(data_bubble,</span>
<span id="cb10-14"><a href="#cb10-14"></a>                            <span class="dt">plot_title =</span> <span class="st">"Listed Equity"</span>,</span>
<span id="cb10-15"><a href="#cb10-15"></a>                            <span class="dt">x_title =</span> <span class="st">"Current share of renewable energy capacity"</span>,</span>
<span id="cb10-16"><a href="#cb10-16"></a>                            <span class="dt">y_title =</span> <span class="st">"Planned build-out as % of build-out required by SDS"</span>,</span>
<span id="cb10-17"><a href="#cb10-17"></a>                            <span class="dt">investor_labels =</span> investor_labels,</span>
<span id="cb10-18"><a href="#cb10-18"></a>                            <span class="dt">colour_investors =</span> <span class="ot">TRUE</span></span>
<span id="cb10-19"><a href="#cb10-19"></a>                            )</span>
<span id="cb10-20"><a href="#cb10-20"></a>p</span></code></pre></div>
<p>These is a basic example of using <code><a href="reference/plot_metareport_map.html">plot_metareport_map()</a></code> given that you have the <code>Equity_results_map.rda</code> or <code>Bonds_results_map.rda</code> data set from PACTA analysis results loaded in your environment:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>data_map_eq_chart &lt;-<span class="st"> </span><span class="kw">prepare_for_map_chart</span>(data_map_eq,</span>
<span id="cb11-2"><a href="#cb11-2"></a>                                  <span class="dt">asset_type =</span> <span class="st">"Equity"</span>,</span>
<span id="cb11-3"><a href="#cb11-3"></a>                                  <span class="dt">technology_filter =</span> <span class="st">"Oil"</span>,</span>
<span id="cb11-4"><a href="#cb11-4"></a>                                  <span class="dt">year_filter =</span> <span class="dv">2020</span>,</span>
<span id="cb11-5"><a href="#cb11-5"></a>                                  <span class="dt">value_divisor =</span> <span class="dv">10</span><span class="op">^</span><span class="dv">6</span>)</span>
<span id="cb11-6"><a href="#cb11-6"></a></span>
<span id="cb11-7"><a href="#cb11-7"></a>legend_unit &lt;-<span class="st"> </span>data_map_eq_chart <span class="op">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(unit)) <span class="op">%&gt;%</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="st">  </span><span class="kw">pull</span>(unit) <span class="op">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="st">  </span><span class="kw">unique</span>()</span>
<span id="cb11-11"><a href="#cb11-11"></a></span>
<span id="cb11-12"><a href="#cb11-12"></a>legend_divisor &lt;-<span class="st"> </span>data_map_eq_chart <span class="op">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(abbreviation_divisor)) <span class="op">%&gt;%</span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="st">  </span><span class="kw">pull</span>(abbreviation_divisor) <span class="op">%&gt;%</span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="st">  </span><span class="kw">unique</span>()</span>
<span id="cb11-16"><a href="#cb11-16"></a></span>
<span id="cb11-17"><a href="#cb11-17"></a>legend_title &lt;-<span class="st"> </span><span class="kw">paste</span>(legend_divisor, legend_unit, <span class="dt">sep =</span> <span class="st">" "</span>)</span>
<span id="cb11-18"><a href="#cb11-18"></a></span>
<span id="cb11-19"><a href="#cb11-19"></a>p &lt;-<span class="st"> </span><span class="kw">plot_metareport_map</span>(data,</span>
<span id="cb11-20"><a href="#cb11-20"></a>                         <span class="dt">plot_title =</span> <span class="st">"Geographical distribution of physical assets - Oil Production, Equity"</span>,</span>
<span id="cb11-21"><a href="#cb11-21"></a>                         <span class="dt">legend_title =</span> legend_title,</span>
<span id="cb11-22"><a href="#cb11-22"></a>                         <span class="dt">sector =</span> <span class="st">"Oil&amp;Gas"</span>)</span>
<span id="cb11-23"><a href="#cb11-23"></a>p</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/2DegreesInvesting/r2dii.plot.static/">https://​github.com/​2DegreesInvesting/​r2dii.plot.static/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/2DegreesInvesting/r2dii.plot.static/issues">
    https://​github.com/​2DegreesInvesting/​r2dii.plot.static/​issues</a>
</li>
<li>Learn more at <br><a href="https://2degrees-investing.org/">https://​2degrees-investing.org/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/MonikaFu/">Monika Furdyna</a> <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://codecov.io/gh/2DegreesInvesting/r2dii.plot.static?branch=master"><img src="https://codecov.io/gh/2DegreesInvesting/r2dii.plot.static/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/2DegreesInvesting/r2dii.plot.static/actions"><img src="https://github.com/2DegreesInvesting/r2dii.plot.static/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://CRAN.R-project.org/package=r2dii.plot.static"><img src="https://www.r-pkg.org/badges/version/r2dii.plot.static" alt="CRAN status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/MonikaFu/">Monika Furdyna</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
