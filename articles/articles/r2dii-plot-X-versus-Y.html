<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>r2dii.plot X versus Y • r2dii.plot</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="r2dii.plot X versus Y">
<meta property="og:description" content="r2dii.plot">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">r2dii.plot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/articles/r2dii-plot-X-versus-Y.html">r2dii.plot X versus Y</a>
    </li>
    <li>
      <a href="../../articles/articles/r2dii-plot-X.html">r2dii.plot X</a>
    </li>
    <li>
      <a href="../../articles/articles/r2dii-plot-Y.html">r2dii.plot Y</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MonikaFu">
    <span class="fas fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/2DegreesInvesting/r2dii.plot">
    <span class="fas fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://2degreesinvesting.github.io/r2dii/index.html">r2dii</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="r2dii-plot-X-versus-Y_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>r2dii.plot X versus Y</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/r2dii.plot/blob/master/vignettes/articles/r2dii-plot-X-versus-Y.Rmd"><code>vignettes/articles/r2dii-plot-X-versus-Y.Rmd</code></a></small>
      <div class="hidden name"><code>r2dii-plot-X-versus-Y.Rmd</code></div>

    </div>

    
    
<p>The goal of r2dii.plot is to help you plot 2DII data in an informative, beautiful, and easy way.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version of r2dii.plot from <a href="https://github.com/2DegreesInvesting/r2dii.plot">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"2DegreesInvesting/r2dii.plot"</span><span class="op">)</span></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>The r2dii.plot package is designed to work smoothly with other “r2dii” packages – <a href="https://2degreesinvesting.github.io/r2dii.data/">r2dii.data</a>, <a href="https://2degreesinvesting.github.io/r2dii.match/">r2dii.match</a>, and <a href="https://2degreesinvesting.github.io/r2dii.analysis/">r2dii.analysis</a>. It also plays well with the popular packages <a href="https://www.tidyverse.org/">dplyr</a> and <a href="https://ggplot2.tidyverse.org/">ggplot2</a>, which help you prepare your data and customize your plots.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/2DegreesInvesting/r2dii.plot">r2dii.plot</a></span><span class="op">)</span></code></pre></div>
<p>Your data typically comes from the output of two functions in the r2dii.analysis package: <a href="https://2degreesinvesting.github.io/r2dii.analysis/reference/target_sda.html"><code>target_sda()</code></a> and <a href="https://2degreesinvesting.github.io/r2dii.analysis/reference/target_market_share.html"><code>target_market_share()</code></a>. Here you’ll use two example datasets that come with r2dii.plot.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sda</span>
<span class="co">#&gt; # A tibble: 208 x 4</span>
<span class="co">#&gt;    sector      year emission_factor_metric emission_factor_value</span>
<span class="co">#&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;                                  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 automotive  2002 projected                              0.228</span>
<span class="co">#&gt;  2 automotive  2003 projected                              0.226</span>
<span class="co">#&gt;  3 automotive  2004 projected                              0.224</span>
<span class="co">#&gt;  4 automotive  2005 projected                              0.222</span>
<span class="co">#&gt;  5 automotive  2006 projected                              0.220</span>
<span class="co">#&gt;  6 automotive  2007 projected                              0.218</span>
<span class="co">#&gt;  7 automotive  2008 projected                              0.216</span>
<span class="co">#&gt;  8 automotive  2009 projected                              0.214</span>
<span class="co">#&gt;  9 automotive  2010 projected                              0.212</span>
<span class="co">#&gt; 10 automotive  2011 projected                              0.210</span>
<span class="co">#&gt; # … with 198 more rows</span>

<span class="va">market_share</span>
<span class="co">#&gt; # A tibble: 1,170 x 8</span>
<span class="co">#&gt;    sector     technology  year region scenario_source metric          production</span>
<span class="co">#&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;           &lt;chr&gt;                &lt;dbl&gt;</span>
<span class="co">#&gt;  1 automotive electric    2020 global demo_2020       projected          145942.</span>
<span class="co">#&gt;  2 automotive electric    2020 global demo_2020       corporate_econ…   8134869.</span>
<span class="co">#&gt;  3 automotive electric    2020 global demo_2020       target_cps         145942.</span>
<span class="co">#&gt;  4 automotive electric    2020 global demo_2020       target_sds         145942.</span>
<span class="co">#&gt;  5 automotive electric    2020 global demo_2020       target_sps         145942.</span>
<span class="co">#&gt;  6 automotive electric    2021 global demo_2020       projected          148212.</span>
<span class="co">#&gt;  7 automotive electric    2021 global demo_2020       corporate_econ…   8183411.</span>
<span class="co">#&gt;  8 automotive electric    2021 global demo_2020       target_cps         148361.</span>
<span class="co">#&gt;  9 automotive electric    2021 global demo_2020       target_sds         160625.</span>
<span class="co">#&gt; 10 automotive electric    2021 global demo_2020       target_sps         149016.</span>
<span class="co">#&gt; # … with 1,160 more rows, and 1 more variable: technology_share &lt;dbl&gt;</span></code></pre></div>
<p>r2dii.plot supports three kinds of plots – timeline, techmix, and trajectory. Each plot has specific requirements for the first argument <code>data</code>. To meet those requirements we currently provide two experimental sets of functions (<a href="https://en.wikipedia.org/wiki/API">API</a>s) – X and Y.</p>
<p>Both APIs can help you get the same plots. The difference is not in what you can do but in how you can do it:</p>
<ul>
<li><p>The X API has a simpler interface. It focuses exclusively on the tasks you can’t easily achieve with other packages, and assumes you can meet the <code>data</code> requirements and customize your plots with other packages such as base R, dplyr, and ggplot2. It forces you to learn or reuse your existing knowledge of other R packages and workflows.</p></li>
<li><p>The Y API has a more complex but complete toolkit. It offers more functions and arguments that wrap features from other packages to help you meet the <code>data</code> requirements and customize your plots directly with r2dii.plot. and ggplot2. It forces you to learn the new r2dii.plot way of doing things but requires little knowledge of other packages and workflows.</p></li>
</ul>
<p>These tables summarize the differences for users and developers of r2dii.plot:</p>
<table class="table">
<caption><em>The X and Y APIs compared from a user’s perspective.</em></caption>
<colgroup>
<col width="41%">
<col width="17%">
<col width="40%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">X API</th>
<th align="left">Y API</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Interface</td>
<td align="left">Simpler</td>
<td align="left">More complex</td>
</tr>
<tr class="even">
<td align="left">Meet <code>data</code> requirements</td>
<td align="left">With other packages</td>
<td align="left">With r2dii.plot and optionally other packages</td>
</tr>
<tr class="odd">
<td align="left">Customize plots</td>
<td align="left">With other packages</td>
<td align="left">With r2dii.plot and optionally other packages</td>
</tr>
<tr class="even">
<td align="left">Integrates with other R packages and workflows</td>
<td align="left">More</td>
<td align="left">Less</td>
</tr>
</tbody>
</table>
<table class="table">
<caption><em>The X and Y APIs compared from a developer’s perspective.</em></caption>
<thead><tr class="header">
<th align="left"></th>
<th align="left">X API</th>
<th align="left">Y API</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Easy to maintain</td>
<td align="left">Less</td>
<td align="left">More</td>
</tr>
<tr class="even">
<td align="left">Easy to extend</td>
<td align="left">More</td>
<td align="left">Less</td>
</tr>
</tbody>
</table>
<p>To make the comparison concrete consider this small example of a trajectory plot (the other plot types you can find in the detailed <a href="https://2degreesinvesting.github.io/r2dii.plot/articles/articles/r2dii-plot-X.html">X API</a> and <a href="https://2degreesinvesting.github.io/r2dii.plot/articles/articles/r2dii-plot-Y.html">Y API</a>) articles. Notice the resulting plot is almost the same (except for the labels) but the toolkit is different.</p>
<ul>
<li>X API</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">market_share</span>

<span class="va">prep</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span>
  <span class="va">data</span>,
  <span class="va">sector</span> <span class="op">==</span> <span class="st">"power"</span>,
  <span class="va">technology</span> <span class="op">==</span> <span class="st">"renewablescap"</span>,
  <span class="va">region</span> <span class="op">==</span> <span class="st">"global"</span>,
  <span class="va">scenario_source</span> <span class="op">==</span> <span class="st">"demo_2020"</span>,
  <span class="va">year</span> <span class="op">&lt;=</span> <span class="fl">2025</span>
<span class="op">)</span>

<span class="fu"><a href="../../reference/plot_trajectoryX.html">plot_trajectoryX</a></span><span class="op">(</span><span class="va">prep</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span> <span class="op">(</span>title <span class="op">=</span> <span class="st">"Trajectory plot with the thin 'X' API"</span><span class="op">)</span></code></pre></div>
<p><img src="r2dii-plot-X-versus-Y_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<ul>
<li>Y API</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">market_share</span>

<span class="va">prep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/prep_trajectoryY.html">prep_trajectoryY</a></span><span class="op">(</span>
  <span class="va">data</span>,
  sector_filter <span class="op">=</span> <span class="st">"power"</span>,
  technology_filter <span class="op">=</span> <span class="st">"renewablescap"</span>,
  region_filter <span class="op">=</span> <span class="st">"global"</span>,
  scenario_source_filter <span class="op">=</span> <span class="st">"demo_2020"</span>,
  value <span class="op">=</span> <span class="st">"production"</span>
<span class="op">)</span>

<span class="va">scenario_specs</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
  scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sds"</span>, <span class="st">"sps"</span>, <span class="st">"cps"</span><span class="op">)</span>,
  label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"SDS"</span>, <span class="st">"STEPS"</span>, <span class="st">"CPS"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">main_line_metric</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"projected"</span>, label <span class="op">=</span> <span class="st">"Portfolio"</span><span class="op">)</span>

<span class="va">additional_line_metrics</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
  metric <span class="op">=</span> <span class="st">"corporate_economy"</span>,
  label <span class="op">=</span> <span class="st">"Corporate Economy"</span>
<span class="op">)</span>

<span class="fu"><a href="../../reference/plot_trajectoryY.html">plot_trajectoryY</a></span><span class="op">(</span>
  <span class="va">prep</span>,
  scenario_specs_good_to_bad <span class="op">=</span> <span class="va">scenario_specs</span>,
  main_line_metric <span class="op">=</span> <span class="va">main_line_metric</span>,
  additional_line_metrics <span class="op">=</span> <span class="va">additional_line_metrics</span>
<span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span> <span class="op">(</span>title <span class="op">=</span> <span class="st">"Trajectory plot with the thick 'Y' API"</span><span class="op">)</span></code></pre></div>
<p><img src="r2dii-plot-X-versus-Y_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>For full examples see the dedicated articles <a href="https://2degreesinvesting.github.io/r2dii.plot/articles/articles/r2dii-plot-X.html">r2dii.plot X</a> and <a href="https://2degreesinvesting.github.io/r2dii.plot/articles/articles/r2dii-plot-Y.html">r2dii.plot Y</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/MonikaFu/">Monika Furdyna</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
